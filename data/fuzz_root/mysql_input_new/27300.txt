CREATE TABLE v0 ( v1 INTEGER PRIMARY KEY ON CONFLICT REPLACE , v2 INTEGER UNIQUE ) ; INSERT INTO v0 ( v2 ) VALUES ( 10 ) ,( 1 ) ,( 3 ) ; CREATE TRIGGER x AFTER INSERT ON v0 BEGIN UPDATE v0 SET v2 = v1 + 1 WHERE v2 > ( SELECT * FROM v0 WHERE NOT v2 ) OR v1 > 1 ; END ; INSERT INTO v0 ( v1 ) VALUES ( 2 ) ,( 10 ) ; SELECT * FROM v0 , v0 WHERE v2 = 10 AND v2 = 10 ; 