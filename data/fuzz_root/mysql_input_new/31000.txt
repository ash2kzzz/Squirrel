CREATE TABLE v0 ( v1 DOUBLE PRIMARY KEY ON CONFLICT IGNORE ) ; CREATE TABLE v2 ( v3 ) ; CREATE TEMP TRIGGER x BEFORE INSERT ON v0 BEGIN UPDATE v0 SET v1 = ( SELECT v0 . v1 FROM v0 AS REVENUE WHERE v0 . v1 = v0 . v1 GROUP BY NULL , v1 ) ; END ; PRAGMA integrity_check=_empty_ ; ; SELECT x ( * ) FROM v0 , v2 AS x WHERE v3 = '!INSERT INTO test VALUES (1, 0, 0); !INSERT INTO test VALUES (0, 1, 0); !INSERT INTO test VALUES (0, 0, null);' ; 